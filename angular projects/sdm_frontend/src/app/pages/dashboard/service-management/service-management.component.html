<ul class="breadcrumb">
    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
        <li><a (click)="gotoHome()">Home</a></li>
        <li>
            <a (click)="details()">{{ ProjectName }}</a>
        </li>
        <li>Service Request</li>
    </div>
    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12">
        <li class="btn2">Customer Name :<b class="cName">{{customerName}}</b></li>
    </div>
</ul>

<nz-tabset>
    <nz-tab nzTitle="Search">
        <nz-collapse nzAccordion>
            <nz-collapse-panel class="header" [nzHeader]="header" [nzActive]="false">
                <form [formGroup]="searchForm">
                    <div class="row">
                        <div class="col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12">
                            <label>Title</label>
                            <input nz-input placeholder="Title" name="sTitle" formControlName="sTitle" />
                        </div>
                        <div class="col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12">
                            <label>Status</label>
                            <nz-select nzAllowClear nzPlaceHolder="Status" formControlName='sStatus'>
                                <nz-option *ngFor="let option of status" [nzValue]="option.optionKey"
                                    [nzLabel]="option.optionValue">
                                </nz-option>
                            </nz-select>
                        </div>
                        <div class="col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12">
                            <label>Priority</label>
                            <nz-select nzAllowClear nzPlaceHolder="Priority" formControlName="sPriority">
                                <nz-option *ngFor="let option of priority" [nzValue]="option.optionKey"
                                    [nzLabel]="option.optionValue">
                                </nz-option>
                            </nz-select>
                        </div>
                        <div class="col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12">
                            <label>Assigned To</label>
                            <input nz-input placeholder="Assigned To" name="sAssignedTo"
                                formControlName="sAssignedTo" />
                        </div>
                        <div class="col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12">
                            <label>Created By</label>
                            <input nz-input placeholder="Requested By" name="sRequestedBy"
                                formControlName="sRequestedBy" />
                        </div>
                        <div class="col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12">
                            <label>Start Date</label>
                            <nz-date-picker nzPlaceHolder='Start Date' name="sStartDate" formControlName="sStartDate">
                            </nz-date-picker>
                        </div>
                        <div class="col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12">
                            <label>End Date</label>
                            <nz-date-picker nzPlaceHolder='End Date' name="sEndDate" formControlName="sEndDate">
                            </nz-date-picker>
                        </div>
                        <div class="col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12">
                            <button class="btnClass" style="float: right;" nz-button nzType="primary"
                                (click)="reset()"><i nz-icon nzType="redo"></i>Reset</button>
                            <button class="btnClass" nz-button nzType="primary" (click)="getBySearch()"><i nz-icon
                                    nzType="search"></i>Search</button>
                        </div><br>
                    </div>
                </form>
            </nz-collapse-panel>
        </nz-collapse>
        <br>
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-xl-10 col-lg-10 col-md-10 col-sm-12 col-12">
                        <h6>Number of Records : {{records}}</h6>
                    </div>
                    <div class="col-xl-2 col-lg-2 col-md-2 col-sm-12 col-12">
                        <button style="width: 100px; margin-top : -10px; float: right;" (click)="addScreen()" nz-button
                            nzType="primary"><i nz-icon nzType="plus"></i>Add</button>&nbsp;
                    </div>

                    <div class="col-12">
                        <nz-table nzShowSizeChanger nzShowPagination #basicTable class="tablescroll" [nzData]="allSm">
                            <thead>
                                <tr>
                                    <th nzWidth=3%>Ticket Id</th>
                                    <th nzWidth=6%>Title</th>
                                    <th nzWidth=6%>Status</th>
                                    <th nzWidth=6%>Priority</th>
                                    <th nzWidth=6%>Created By</th>
                                    <th nzWidth=4%>Assigned To</th>
                                    <th nzWidth=6%>Created Date</th>
                                    <th nzWidth=2%>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let data of basicTable.data ">
                                    <td>{{ data.releaseId}}</td>
                                    <td>{{data.title }}</td>
                                    <td>{{tStatus[data.uxStatus]}}</td>
                                    <td>{{tPriority[data.uxPriority]}}</td>
                                    <td>{{ data.CreatedBy}}</td>
                                    <td>{{data.assignedTo}}</td>
                                    <td>{{ data.createdDate | date:'MM-dd-yyyy' }}</td>
                                    <td>
                                        <i nz-icon nzType="edit" nzTheme="fill" (click)="editSm(data.id)">
                                        </i>&nbsp;&nbsp;&nbsp;&nbsp;
                                        <a nz-popconfirm nzPopconfirmTitle="Sure to delete?"
                                            (nzOnConfirm)="deleteRow(data)">
                                            <i nz-icon nzTheme="fill" nzType="delete"></i>

                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </nz-table>

                    </div>
                </div>
            </div>
        </div>
    </nz-tab>
    <nz-tab nzTitle="Dashboard">
        <h4>Service Management Dashboard</h4>
        <div class="row">
            <div class="col-12">
                <div class="row">

                    <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-12">
                        <div class="chart">

                            <canvas baseChart height="300" [data]="pieChartData" [labels]="pieChartLabel"
                                [chartType]="pieChartType" [options]="pieChartOptions1" [plugins]="pieChartPlugins"
                                [legend]="pieChartLegend"></canvas>
                        </div>
                    </div>
                    <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-12">
                        <div class="chart">

                            <canvas baseChart height="300" [data]="pieChartData1" [labels]="pieChartLabel1"
                                [chartType]="pieChartType" [options]="pieChartOptions2" [plugins]="pieChartPlugins"
                                [legend]="pieChartLegend"></canvas>
                        </div>
                    </div>
                    <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-12">
                        <div class="chart1">
                            <canvas baseChart height="200" [data]="pieChartData2" [labels]="pieChartLabel2"
                                [options]="pieChartOptions3" [plugins]="pieChartPlugins" [chartType]="pieChartType"
                                [legend]="pieChartLegend"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="row">

                    <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
                        <div class="table">
                            <nz-table [nzData]="table1Data" [nzShowPagination]="false">
                                <thead>
                                    <tr>
                                        <th>Status</th>
                                        <th>Hours Spent</th>

                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of table1Data">
                                        <td>{{ item.status }}</td>
                                        <td>{{ item.hours}}</td>
                                    </tr>
                                </tbody>
                            </nz-table>
                        </div>
                    </div>
                    <div class="col-xl-8 col-lg-8 col-md-12 col-sm-12 col-12">
                        <div class="table1">
                            <nz-table [nzData]="table2Data" [nzShowPagination]="false">
                                <thead>
                                    <tr>
                                        <th>Title</th>
                                        <th>Hours Estimated</th>
                                        <th>Requested By</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item1 of table2Data">
                                        <td>{{ item1.status }}</td>
                                        <td>{{ item1.hours}}</td>
                                        <td>{{ item1.request}}</td>
                                    </tr>
                                </tbody>
                            </nz-table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- <div class="chart">
            <canvas baseChart height="300" [data]="pieChartData3" [labels]="pieChartLabel3" [options]="pieChartOptions4"
                [plugins]="pieChartPlugins" [chartType]="pieChartType" [legend]="pieChartLegend"></canvas>
        </div> -->
    </nz-tab>
</nz-tabset>